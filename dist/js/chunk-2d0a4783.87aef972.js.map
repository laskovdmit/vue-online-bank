{"version":3,"sources":["webpack:///./src/views/Request.vue","webpack:///./src/views/Request.vue?3fbe"],"names":["class","for","value","loading","request","title","back","fio","phone","currency","amount","type","status","id","remove","hasChanges","update","route","params","setup","router","store","dispatch","push","data","components","AppPage","AppLoader","AppStatus","__exports__","render"],"mappings":"2IAGW,eAA+B,cAAvB,kBAAc,G,EACtB,eAAmC,cAA3B,sBAAkB,G,EAC1B,eAAuB,cAAf,UAAM,G,EACd,eAAwB,cAAhB,WAAO,G,sBAEZA,MAAO,CAAC,iB,EACV,eAAyC,SAAlCC,IAAI,UAAS,iBAAa,G,EAE7B,eAAsC,UAA9BC,MAAM,QAAO,YAAQ,G,EAC7B,eAA0C,UAAlCA,MAAM,aAAY,WAAO,G,EACjC,eAAuC,UAA/BA,MAAM,UAAS,WAAO,G,EAC9B,eAA4C,UAApCA,MAAM,WAAU,eAAW,G,SAOpCF,MAAM,0B,6HApBC,EAAAG,S,iBAAlB,eAA4B,YACQ,EAAAC,S,iBAApC,eAkBW,G,MAlBDC,MAAM,SAA6BC,KAAA,I,yBACzC,iBAAwD,CAAxD,eAAwD,UAArD,E,eAA+B,IAAC,eAAG,EAAAF,QAAQG,KAAG,KACjD,eAA8D,UAA3D,E,eAAmC,IAAC,eAAG,EAAAH,QAAQI,OAAK,KACvD,eAA6D,UAA1D,E,eAAuB,IAAC,eAAG,EAAAC,SAAS,EAAAL,QAAQM,SAAM,KACrD,eAAmE,UAAhE,E,EAAyB,eAAmC,GAAvBC,KAAM,EAAAP,QAAQQ,Q,mBAEtD,eAQM,MARN,EAQM,CAPF,E,eACA,eAKS,UALDC,GAAG,S,qDAAkB,EAAAD,OAAM,K,CAC/B,EACA,EACA,EACA,G,cAJyB,EAAAA,YAQjC,eAA2D,UAAnDZ,MAAM,aAAc,QAAK,8BAAE,EAAAc,QAAA,EAAAA,OAAA,sBAAQ,WACD,EAAAC,Y,iBAA1C,eAAuE,U,MAA/Df,MAAM,MAAO,QAAK,8BAAE,EAAAgB,QAAA,EAAAA,OAAA,sBAA0B,a,mDAE1D,eAEK,KAFL,EAA0C,kBACxB,eAAG,EAAAC,MAAMC,OAAOL,IAAK,QACvC,I,gHAYW,GACXM,MADW,WAEP,IAAMC,EAAS,iBACTH,EAAQ,iBACRI,EAAQ,iBACRlB,EAAU,gBAAI,GACdC,EAAU,eAAI,IACdQ,EAAS,iBAEf,eAAS,wCAAC,2GACNT,EAAQD,OAAQ,EADV,SAGgBmB,EAAMC,SAAS,kBAAmBL,EAAMC,OAAOL,IAH/D,OAGNT,EAAQF,MAHF,OAINU,EAAOV,MAAP,UAAeE,EAAQF,aAAvB,aAAe,EAAeU,OAE9BT,EAAQD,OAAQ,EANV,4CASV,IAAMa,EAAa,gBAAS,kBAAMX,EAAQF,MAAMU,SAAWA,EAAOV,SAE5DY,EAAK,yDAAI,8GACLO,EAAMC,SAAS,iBAAkBL,EAAMC,OAAOL,IADzC,OAEXO,EAAOG,KAAK,KAFD,2CAAJ,qDAKLP,EAAK,yDAAI,2GACLQ,EADK,iCACMpB,EAAQF,OADd,IACqBW,GAAII,EAAMC,OAAOL,GAAID,OAAQA,EAAOV,QADzD,SAELmB,EAAMC,SAAS,iBAAkBE,GAF5B,OAGXpB,EAAQF,MAAMU,OAASA,EAAOV,MAHnB,2CAAJ,qDAMX,MAAO,CACHC,UACAC,UACAa,QACAR,WAAA,KACAK,SACAE,SACAJ,SACAG,eAGRU,WAAY,CAAEC,UAAA,KAASC,YAAA,KAAWC,YAAA,O,qBCxEtC,MAAMC,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,KAErD","file":"js/chunk-2d0a4783.87aef972.js","sourcesContent":["<template>\r\n    <app-loader v-if=\"loading\"/>\r\n    <app-page title=\"Заявка\" v-else-if=\"request\" back>\r\n        <p><strong>Имя владельца:</strong> {{ request.fio }}</p>\r\n        <p><strong>Телефон владельца:</strong> {{ request.phone }}</p>\r\n        <p><strong>Сумма:</strong> {{ currency(request.amount) }}</p>\r\n        <p><strong>Статус:</strong> <AppStatus :type=\"request.status\"/></p>\r\n\r\n        <div :class=\"['form-control']\">\r\n            <label for=\"status\">Статус заявки</label>\r\n            <select id=\"status\" v-model=\"status\">\r\n                <option value=\"done\">Завершен</option>\r\n                <option value=\"cancelled\">Отменен</option>\r\n                <option value=\"active\">Активен</option>\r\n                <option value=\"pending\">Выполняется</option>\r\n            </select>\r\n        </div>\r\n\r\n        <button class=\"btn danger\" @click=\"remove\">Удалить</button>\r\n        <button class=\"btn\" @click=\"update\" v-if=\"hasChanges\">Обновить</button>\r\n    </app-page>\r\n    <h3 v-else class=\"text-center text-white\">\r\n        Заявки с ID = {{ route.params.id }} нет\r\n    </h3>\r\n</template>\r\n\r\n<script>\r\nimport { ref, onMounted, computed } from 'vue'\r\nimport { useRoute, useRouter } from 'vue-router'\r\nimport { useStore } from 'vuex';\r\nimport AppPage from '../components/ui/AppPage.vue'\r\nimport AppLoader from '../components/ui/AppLoader.vue';\r\nimport AppStatus from '../components/ui/AppStatus.vue';\r\nimport { currency } from '../utils/currency';\r\n\r\nexport default {\r\n    setup() {\r\n        const router = useRouter();\r\n        const route = useRoute();\r\n        const store = useStore();\r\n        const loading = ref(true);\r\n        const request = ref({});\r\n        const status = ref();\r\n\r\n        onMounted(async () => {\r\n            loading.value = true;\r\n\r\n            request.value = await store.dispatch('request/loadOne', route.params.id);\r\n            status.value = request.value?.status;\r\n\r\n            loading.value = false;\r\n        });\r\n\r\n        const hasChanges = computed(() => request.value.status !== status.value);\r\n\r\n        const remove = async () => {\r\n            await store.dispatch('request/remove', route.params.id);\r\n            router.push('/');\r\n        };\r\n        \r\n        const update = async () => {\r\n            const data = {...request.value, id: route.params.id, status: status.value};\r\n            await store.dispatch('request/update', data);\r\n            request.value.status = status.value;\r\n        };\r\n\r\n        return {\r\n            loading,\r\n            request,\r\n            route,\r\n            currency,\r\n            remove,\r\n            update,\r\n            status,\r\n            hasChanges\r\n        }\r\n    },\r\n    components: { AppPage, AppLoader, AppStatus }\r\n}\r\n</script>\r\n        AppStatus\r\n\r\n<style\r\nAppPage>\r\n\r\n</style>","import { render } from \"./Request.vue?vue&type=template&id=210f37cf\"\nimport script from \"./Request.vue?vue&type=script&lang=js\"\nexport * from \"./Request.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\Программирование\\\\3. Vue\\\\14 задание\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}